@import "../utils/px2em";
@import "../abstracts/vars";
@import "../base/reset-input";

.search {
    display: block;
    position: relative;
    background-color: $search-text-field-background-color;
    box-shadow: inset 0px 2px 6px rgba($black, 0.05);
    padding: $search-padding;
    border-radius: 8px;

    &__form {
        display: block;
        position: relative;
        width: 100%;

        &__container {
            display: flex;
            position: relative;
            justify-content: space-between;
            width: 100%;
        }

        &__button-clear {
            display: flex;
            position: absolute;
            right: 0;
            width: $search-button-clear-size;
            height: $search-button-clear-size;
            background-color: $search-button-clear-background-color;
            color: $search-button-clear-color;
            border-radius: $search-button-clear-border-radius;
            z-index: 2;
            transition-duration: 75ms;
            transition-timing-function: ease;
            transition-property: opacity;

            &:active {
                opacity: 0.5;
                transform: scale(75%);
            }

            &__icon {
                display: block;
                position: relative;
                font-size: $search-button-clear-icon-size;
                line-height: 1;
                margin: auto;
            }
        }

        //Remove default button styles
        button {
            padding: 0;
            border: none;
            font: inherit;
            outline: inherit;  
        }

        //Label don't used now
        &__label {
            display: none;
        }

        &__text-field {
            @include reset-input();
            display: block;
            position: relative;
            color: $search-text-field-color;
            width: calc(100% - #{$search-button-clear-size});
            
            &::placeholder {
                font-weight: 400;
                font-size: $search-text-field-placeholder-size;
                color: $search-text-field-color-closed;
            }
        }
    }
    //Search opened
    &.focused {
        transition-duration: 125ms;
        transition-timing-function: ease;
        transition-property: width, border;
        border: $search-border-opened;
        width: $search-width-opened;
    }
    //Search closed
    & {
        transition-duration: 75ms;
        transition-timing-function: ease;
        transition-property: width, border;
        border: $search-border-closed;
        width: $search-width-closed;
    }

    // &:hover {
    //     animation-duration: 125ms;
    //     animation-timing-function: ease;
    //     animation-name: search-move-animation-in;
    //     width: $search-width-opened;

    //     input::placeholder, input::-webkit-input-placeholder {
    //         color: $search-text-field-color-opened;
    //     }
    // }

    //Search isFill
    &.typed {

        .search__form__button-clear {
            opacity: 1.0;
        }
    }
    //Search isEmpty
    &.empty {

        .search__form__button-clear {
            opacity: 0.0;
        }
    }
}