<form [formGroup]="form" (ngSubmit)="onSave()" (keydown)="onEnterSubmit($event)" autocomplete="off">
  <div *ngIf="!!selector; else mainLangContent">
    <mat-tab-group>
      <mat-tab *ngFor="let lang of sortedLanguages" [label]="lang.name">
        <ta-selector-content [content]="getContent(lang)" [defaultContent]="getContent(defaultLanguage)"
          [isDefault]="lang.code === defaultLanguage.code" [isEditMode]="isEditMode" [assets]="assets"
          (update)="updateStateFor($event, lang)" (uploadMainImage)="onMainImageUpload($event, lang)"
          (uploadIconImage)="onIconImageUpload($event, lang)"
          (uploadThumbnailImage)="onThumbnailImageUpload($event, lang)" (save)="onSave()">
        </ta-selector-content>
      </mat-tab>
    </mat-tab-group>
  </div>
  <ng-template #mainLangContent>
    <ta-selector-content *ngIf="!!defaultLanguage" isDefault="true" [content]="null" [isEditMode]="isEditMode"
      [assets]="assets" (update)="updateStateFor($event, defaultLanguage)">
    </ta-selector-content>
  </ng-template>

  <div class="form__submit" align="end">
    <button mat-button class="button button__text" (click)="onCancel()">Cancel</button>
    <button mat-flat-button color="accent" type="submit" class="button button__text"
      [disabled]="!form.valid">{{isEditMode ? 'Save' : 'Create'}}</button>
  </div>
</form>
