<ta-query-progress class="query-progress-container" [process]="isProcess$ | async">
    <div class="entity-options-editor">
        <div class="entity-options-editor__back-button" (click)="onToBack()">
            Назад
        </div>
        <div class="form">
            <div class="form-header">
                <h1>
                    Чек
                </h1>
            </div>

            <ta-checkue-creator-form [isEditMode]="isEditMode" [checkue]="checkue$ | async" (submitForm)="onSubmit($event)"
                (cancel)="onCancel()"></ta-checkue-creator-form>
        </div>

        <div class="form" *ngIf="isEditMode && (isPrepareToConfigure$ | async)">
            <div class="form-header">
                <h2>Конфигуратор сценариев</h2>
            </div>

            <ta-query-progress class="query-progress-container" style="position: relative;"
                [process]="isProcess$ | async">
                <div class="hierarchy-editor secondary">
                    <ta-scenario-entity-editor [entity]="checkue$ | async" [products]="products$ | async"
                        [selectors]="selectors$ | async" [businessPeriods]="businessPeriods$ | async"
                        [currencies]="currencies$ | async" [languages]="languages$ | async"
                        [orderTypes]="orderTypes$ | async" [stores]="stores$ | async"
                        [defaultLanguage]="defaultLanguage$ | async"
                        (update)="onScenarioUpdate($event)"
                        type="checkue">
                    </ta-scenario-entity-editor>
                </div>
            </ta-query-progress>
        </div>
    </div>
</ta-query-progress>